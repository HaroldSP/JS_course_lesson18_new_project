(()=>{"use strict";(e=>{const t=document.getElementById("timer-hours"),l=document.getElementById("timer-minutes"),r=document.getElementById("timer-seconds");let a;const o=()=>{a=(()=>{let e=(new Date("24 February 2023").getTime()-(new Date).getTime())/1e3,t=Math.floor(e/60/60);t/10<1&&(t="0"+t);let l=Math.floor(e/60%60);l/10<1&&(l="0"+l);let r=Math.floor(e%60);return r/10<1&&(r="0"+r),{timeRemain:e,hours:t,minutes:l,seconds:r}})(),t.textContent=a.hours,l.textContent=a.minutes,r.textContent=a.seconds};o(),a.timeRemain>0?setInterval(o,1e3):(t.textContent="00",l.textContent="00",r.textContent="00")})(),(()=>{const e=document.querySelector(".popup"),t=document.querySelectorAll(".popup-btn"),l=500;let r,a;function o(t){r||(r=t);const a=t-r,n=Math.min(1,a/l);e.style.opacity=n,a<l&&requestAnimationFrame(o)}function n(){r=null,e.style.display="block",a||requestAnimationFrame(o)}window.addEventListener("resize",(()=>{const e=document.documentElement.clientWidth;a=e<768})),t.forEach((e=>{e.addEventListener("click",n)})),e.addEventListener("click",(t=>{t.target.closest(".popup-content")&&!t.target.classList.contains("popup-close")||(e.style.display="none")}))})(),(()=>{const e=document.querySelector('a[href="#service-block"]'),t=document.querySelector("#service-block").offsetTop+50,l=500;let r;function a(e){r||(r=e);const o=e-r,n=Math.min(1,o/l),c=Math.floor(n*t);window.scrollTo(0,c),n<1&&requestAnimationFrame(a)}e.addEventListener("click",(function(e){e.preventDefault(),r=null,requestAnimationFrame(a)}))})(),(()=>{document.querySelector(".calc-block").querySelectorAll('input[type="text"]').forEach((e=>{e.addEventListener("blur",(e=>{const t=e.target.value.replace(/[\D]+/g,"").trim();e.target.value=t})),e.addEventListener("input",(e=>{e.target.value=e.target.value.replace(/\D+/g,"")}))}));const e=document.querySelectorAll('[name="user_form"]'),t=document.querySelectorAll('input[name="user_name"]'),l=document.querySelectorAll('input[placeholder="Ваше сообщение"]'),r=document.querySelectorAll('input[type="tel"]'),a=document.querySelectorAll('input[type="email"]');t.forEach((e=>{e.addEventListener("blur",(()=>{let t=e.value;t=t.replace(/(^\s+|\s+$)|(^-+|-+$)/g,""),t=t.replace(/[-]+/g,"-"),t=t.replace(/[\s]+/g," "),t=t.replace(/[^а-яА-я\s-]/g,""),t=t.split(" "),t=t.map((e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase())),t=t.join(" "),e.value=t})),e.addEventListener("input",(e=>{e.target.value=e.target.value.replace(/[^а-яА-Я\s-]/gi,"")}))})),l.forEach((e=>{e.addEventListener("blur",(()=>{let t=e.value;t=t.replace(/(^\s+|\s+$)|(^-+|-+$)/g,""),t=t.replace(/[-]+/g,"-"),t=t.replace(/[\s]+/g," "),t=t.replace(/[^а-яА-я\s-]/g,""),e.value=t})),e.addEventListener("input",(e=>{e.target.value=e.target.value.replace(/[^а-яА-Я\s-]/gi,"")}))})),r.forEach((e=>{e.addEventListener("blur",(()=>{let t=e.value;t=t.replace(/(^\s+|\s+$)|(^-+|-+$)/g,""),t=t.replace(/[-]+/g,"-"),t=t.replace(/[\s]+/g,""),t=t.replace(/[^\d()+-]/g,""),t=t.replace(/(^-+|-+$)/g,""),t=t.replace(/[-]+/g,"-"),e.value=t})),e.addEventListener("input",(e=>{e.target.value=e.target.value.replace(/[^\d()-]+/g,"")}))})),a.forEach((e=>{e.addEventListener("blur",(()=>{let t=e.value;t=t.replace(/(^\s+|\s+$)|(^-+|-+$)/g,""),t=t.replace(/[-]+/g,"-"),/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/gi.test(t)?(t=t.replace(/(^-+|-+$)/g,""),t=t.replace(/[-]+/g,"-"),e.value=t):(alert("Введите корректный email !"),t="",e.value=t)})),e.addEventListener("input",(e=>{e.target.value=e.target.value.replace(/[^\w\d@_\-.!~*']+/gi,"")}))})),e.forEach((e=>{e.addEventListener("submit",(t=>{t.preventDefault();let l=!1;const r=e.querySelectorAll('input[type="text"]'),a=e.querySelectorAll('input[type="tel"]'),o=e.querySelectorAll('input[type="email"]'),n=e.querySelectorAll('input[placeholder="Ваше сообщение"]');r.forEach((e=>{/^[а-яА-я]+([ -][а-яА-я]+)*$/gi.test(e.value)&&""!==e.value?console.log("В инпуте только кириллица"):(alert("В инпуте должна быть только кириллица"),l=!0)})),n.forEach((e=>{/^[а-яА-я]+([ -][а-яА-я]+)*$/gi.test(e.value)&&""!==e.value?console.log("В инпуте только кириллица"):l=!0})),a.forEach((e=>{/[^\d()+-]/g.test(e.value)||""===e.value?l=!0:console.log("В инпуте только цифры")})),o.forEach((e=>{/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/gi.test(e.value)&&""!==e.value?console.log("В инпуте корректный email"):l=!0})),l||(e.reset(),alert("Данные отправлены"))}))}))})(),(()=>{const e=document.querySelector(".service-header"),t=document.querySelectorAll(".service-header-tab"),l=document.querySelectorAll(".service-tab");e.addEventListener("click",(e=>{if(e.target.closest(".service-header-tab")){const r=e.target.closest(".service-header-tab");console.log(r),t.forEach(((e,t)=>{e===r?(e.classList.add("active"),l[t].classList.remove("d-none")):(e.classList.remove("active"),l[t].classList.add("d-none"))}))}}))})(),(()=>{const e=document.querySelector("body"),t=document.querySelector("menu"),l=()=>t.classList.toggle("active-menu");e.addEventListener("click",(e=>{if(e.target.closest(".menu"))l();else if(t.classList.contains("active-menu")&&e.target.matches("menu > ul > li > a")){l(),e.preventDefault();let t=e.target.getAttribute("href").slice(1);document.getElementById(t).scrollIntoView({behavior:"smooth",block:"start"})}else!t.classList.contains("active-menu")||e.target.classList.contains("active-menu")||e.target.matches("menu > ul > li")||l()}))})(),((e,t,l)=>{const r=document.querySelector(e);if(!r)return;const a=document.querySelectorAll(t);if(!a)return;const o=document.querySelector(l);if(!o)return;let n,c=0;((e="dot")=>{for(let t=0;t<a.length;t++){const l=document.createElement("li");l.classList.add(e),0===t&&l.classList.add("dot-active"),o.appendChild(l)}})();const s=document.querySelectorAll(".dot"),i=(e,t,l="portfolio-item-active")=>{e[t].classList.remove(l)},u=(e,t,l="portfolio-item-active")=>{e[t].classList.add(l)},d=()=>{i(a,c),i(s,c,"dot-active"),c++,c>=a.length&&(c=0),u(a,c),u(s,c,"dot-active")},m=(e=1500)=>{n=setInterval(d,e)};r.addEventListener("click",(e=>{e.preventDefault(),e.target.matches(".dot, .portfolio-btn")&&(i(a,c),i(s,c,"dot-active"),e.target.matches("#arrow-right")?c++:e.target.matches("#arrow-left")?c--:e.target.classList.contains("dot")&&s.forEach(((t,l)=>{e.target===t&&(c=l)})),c>=a.length&&(c=0),c<0&&(c=a.length-1),u(a,c),u(s,c,"dot-active"))})),r.addEventListener("mouseenter",(e=>{e.target.matches(".dot, .portfolio-btn")&&clearInterval(n)}),!0),r.addEventListener("mouseleave",(e=>{e.target.matches(".dot, .portfolio-btn")&&m(2e3)}),!0),m(2e3)})(".portfolio-content",".portfolio-item",".portfolio-dots"),alert("hi")})();